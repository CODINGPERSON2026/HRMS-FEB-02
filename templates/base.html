<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {% block title %}Army Personnel Management System{% endblock %}
    </title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&display=swap');

      :root {
          --primary: #667eea;
          --secondary: #764ba2;
          --accent: #4a90e2;
          --success: #43e97b;
          --warning: #f39c12;
          --danger: #f5576c;
          --dark-bg: #0f2027;
          --dark-bg-2: #203a43;
          --dark-bg-3: #2c5364;
      }

      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          font-family:sans-serif;
      }

      body {
          background: linear-gradient(135deg, var(--dark-bg) 0%, var(--dark-bg-2) 50%, var(--dark-bg-3) 100%);
          min-height: 100vh;
          color: #333;
          position: relative;
          overflow-x: hidden;
      }

      /* Animated Background Pattern */
      body::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background:
              radial-gradient(circle at 20% 50%, rgba(102, 126, 234, 0.15) 0%, transparent 50%),
              radial-gradient(circle at 80% 80%, rgba(118, 75, 162, 0.15) 0%, transparent 50%),
              radial-gradient(circle at 40% 20%, rgba(67, 233, 123, 0.1) 0%, transparent 40%);
          pointer-events: none;
          z-index: 0;
      }

      /* Ultra Modern Navbar */
      .navbar-custom {
          background: rgba(15, 32, 39, 0.85);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
          padding: 1.2rem 0;
          position: sticky;
          top: 0;
          z-index: 1000;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          transition: all 0.3s ease;
      }

      .navbar-custom.scrolled {
          background: rgba(15, 32, 39, 0.95);
          padding: 0.8rem 0;
          box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
      }

      .navbar-brand {
          font-weight: 700;
          font-size: 1.6rem;
          color: #fff !important;
          display: flex;
          align-items: center;
          gap: 15px;
          transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
          letter-spacing: -0.5px;
      }

      .navbar-brand:hover {
          transform: translateX(5px);
      }

      .navbar-brand i {
          font-size: 2rem;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: brandPulse 3s ease-in-out infinite;
      }

      @keyframes brandPulse {
          0%, 100% {
              opacity: 1;
              transform: scale(1);
          }
          50% {
              opacity: 0.8;
              transform: scale(1.05);
          }
      }

      .navbar-toggler {
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 10px;
          padding: 0.5rem 0.75rem;
          transition: all 0.3s ease;
      }

      .navbar-toggler:hover {
          background: rgba(255, 255, 255, 0.15);
          border-color: rgba(255, 255, 255, 0.3);
      }

      .navbar-toggler:focus {
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
      }

      .navbar-toggler-icon {
          filter: invert(1);
      }

      .navbar-nav {
          gap: 0.5rem;
      }

      .nav-link {
          color: rgba(255, 255, 255, 0.7) !important;
          font-weight: 500;
          font-size: 1rem;
          padding: 0.7rem 1.5rem !important;
          border-radius: 12px;
          transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
          position: relative;
          overflow: hidden;
      }

      .nav-link::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.15), transparent);
          transition: left 0.6s ease;
      }

      .nav-link:hover::before {
          left: 100%;
      }

      .nav-link:hover {
          color: #fff !important;
          background: rgba(102, 126, 234, 0.2);
          transform: translateY(-2px);
      }

      .nav-link.active {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: #fff !important;
          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
      }

      .nav-link i {
          font-size: 1.1rem;
          transition: transform 0.3s ease;
      }

      .nav-link:hover i {
          transform: scale(1.1);
      }

      /* Main Content Area */
      .main-content {
          padding: 2rem;
          min-height: calc(100vh - 80px);
          position: relative;
          z-index: 1;
      }

      /* Global Animations */
      @keyframes fadeIn {
          from {
              opacity: 0;
              transform: translateY(30px);
          }
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }

      @keyframes slideInFromLeft {
          from {
              opacity: 0;
              transform: translateX(-50px);
          }
          to {
              opacity: 1;
              transform: translateX(0);
          }
      }

      @keyframes slideInFromRight {
          from {
              opacity: 0;
              transform: translateX(50px);
          }
          to {
              opacity: 1;
              transform: translateX(0);
          }
      }

      .animated {
          animation: fadeIn 0.6s ease;
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
          width: 12px;
          height: 12px;
      }

      ::-webkit-scrollbar-track {
          background: rgba(0, 0, 0, 0.1);
          border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb {
          background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
          border-radius: 10px;
          border: 2px solid rgba(0, 0, 0, 0.1);
      }

      ::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(180deg, #764ba2 0%, #667eea 100%);
      }

      /* Loading Animation */
      .loading-spinner {
          display: inline-block;
          width: 40px;
          height: 40px;
          border: 4px solid rgba(255, 255, 255, 0.1);
          border-radius: 50%;
          border-top-color: var(--primary);
          animation: spin 1s linear infinite;
      }

      @keyframes spin {
          to { transform: rotate(360deg); }
      }

      /* Utility Classes */
      .gradient-text {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
      }

      .glass-card {
          background: rgba(255, 255, 255, 0.05);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.1);
          border-radius: 20px;
          padding: 2rem;
      }

      .hover-lift {
          transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      }

      .hover-lift:hover {
          transform: translateY(-10px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      }

      /* Responsive Design */
      @media (max-width: 991px) {
          .navbar-brand {
              font-size: 1.3rem;
          }

          .navbar-brand i {
              font-size: 1.5rem;
          }

          .navbar-collapse {
              margin-top: 1rem;
              padding: 1rem;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 15px;
          }

          .nav-link {
              margin: 0.3rem 0;
          }
      }

      @media (max-width: 768px) {
          .main-content {
              padding: 1rem;
          }
      }

      /* Print Styles */
      @media print {
          body {
              background: white;
          }

          .navbar-custom,
          .nav-link,
          body::before {
              display: none;
          }

          .main-content {
              padding: 0;
          }
      }

      </style>
      {% block extra_css %}{% endblock %}
  </head>
  <body>
    <!-- Ultra Modern Navbar -->
    <nav class="navbar navbar-expand-lg navbar-custom">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <i class="fas fa-shield-alt"></i>
          <span>Army Personnel System</span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a
                class="nav-link {% if request.endpoint == 'dashboard' %}active{% endif %}"
                href="/"
              >
                <i class="fas fa-home me-2"></i>Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link {% if request.endpoint == 'add_personnel_page' %}active{% endif %}"
                href="/add-personnel"
              >
                <i class="fas fa-user-plus me-2"></i>Add Personnel
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/personnel">
                <i class="fas fa-users me-2"></i>View Data
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content Area -->
    <div class="main-content animated">{% block content %}{% endblock %}</div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Global JavaScript -->
    <script>
      // Navbar scroll effect
      window.addEventListener("scroll", function () {
        const navbar = document.querySelector(".navbar-custom");
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });

      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Auto-close navbar on mobile after clicking a link
      const navLinks = document.querySelectorAll(".nav-link");
      const navbarCollapse = document.querySelector(".navbar-collapse");

      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          if (
            window.innerWidth < 992 &&
            navbarCollapse.classList.contains("show")
          ) {
            const bsCollapse = new bootstrap.Collapse(navbarCollapse);
            bsCollapse.hide();
          }
        });
      });

      // Add loading state to buttons on click
      document.querySelectorAll('button[type="submit"]').forEach((button) => {
        button.addEventListener("click", function () {
          if (this.form && this.form.checkValidity()) {
            this.disabled = true;
            const originalHTML = this.innerHTML;
            this.innerHTML =
              '<span class="loading-spinner"></span> Processing...';

            // Re-enable after 5 seconds as fallback
            setTimeout(() => {
              this.disabled = false;
              this.innerHTML = originalHTML;
            }, 5000);
          }
        });
      });
    </script>

    {% block extra_js %}{% endblock %}
  </body>
</html>